# HTTP

## HTTP

- Request基本结构
- Response基本结构
- 请求方法
- 返回码

### http协议特点

#### 无状态

- 如何记录状态
  - cookie(客户端) + session（服务端）

#### 通信明文

- https = http + ssl/tls

## HTTPS原理

### 怎么去实现安全传输

stage0: 明文传输

stage1: 对内容对称加密

- 所有客户端与服务端采用相同密钥
  - 问题：伪造客户端获取密钥
- 每个客户端分配不同密钥
  - 问题：server分发密钥的时候，被中间人拦截

stage2: 非对称加密

> 非对称加密：有一对公钥和私钥，公钥加密 + 私钥解密 or 私钥加密 + 公钥解密

- server持有私钥，将公钥发送给client
- client用公钥加密，将加密后内容发送给server
- server用私钥解密内容
- 问题：中间人拦截请求，生成公私钥，将公钥发送给客户端

stage3: 验证证书有效性

- 浏览器内置第三方机构公钥，解密数字证书，与server端返回的数字证书进行对比
- 加图

## https常见面试题