# 数据库事务
- ACID
	- Atomic: 要么都做，要么都不做
	- Consistency: 数据库更新前后状态一致
	- Isolation: 同一时刻只能有一个事务操作一个数据
	- Durability: 事务提交后，将事务结果持久化到数据库
## 并发事务可能出现的问题及隔离级别
- 脏读：事务A读到事务B未提交的数据更新
- 不可重复读：事务A多次读取Data期间，事务B更新Data并提交，导致事务A多次读取不一致
	- 解决方案：事务A对数据Data加行锁
- 幻读：
	- 事务A获取集合S中的所有数据期间，事务B向集合S删除数据，导致A获取的集合中含已删除数据D
	- 事务A更新集合S中的所有数据期间，事务B向集合S添加数据，导致新数据D未更新
	- 解决方案：事务A对集合S加表锁
### 隔离级别
|事务隔离级别 |	脏读 |	不可重复读 |	幻读
|--|--|--|--|
|读未提交（read-uncommitted）| 	是 |	是 |	是
|不可重复读（read-committed）| 	否 |	是 |	是
|可重复读（repeatable-read） |	否 |	否 |	是
|串行化（serializable） |	否 |	否 |	否